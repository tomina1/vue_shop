(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login_home_welcome"],{"1ddd":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",[e._v(" Welcome ")])},i=[],a={},n=a,r=s("2877"),l=Object(r["a"])(n,o,i,!1,null,"2878187e",null);t["default"]=l.exports},"2c20":function(e,t,s){},"578a":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_container"},[t("div",{staticClass:"login_box"},[e._m(0),t("el-form",{ref:"form",staticClass:"login_form",attrs:{rules:e.loginFormRules,model:e.loginForm}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-s-custom"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticClass:"btns"},[t("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),t("el-button",{attrs:{type:"infor"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)])},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"avatar_box"},[t("img",{attrs:{src:s("cf05")}})])}],a=(s("14d9"),{data(){return{loginForm:{username:"admin",password:"123456"},loginFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:15,message:"长度在 6 到 15 个字符",trigger:"blur"}]}}},methods:{reset(){this.$refs.form.resetFields()},login(){this.$refs.form.validate(async e=>{if(!e)return;let{data:t}=await this.$axios.request({url:"/login",method:"post",data:this.loginForm});console.log(t),200===t.meta.status?(this.$Message.success("登陆成功！"),window.sessionStorage.setItem("token",t.data.token),this.$router.push("/home")):this.$Message.error("账号或密码错误，登录失败")})}}}),n=a,r=(s("9435"),s("2877")),l=Object(r["a"])(n,o,i,!1,null,"3c74206a",null);t["default"]=l.exports},9435:function(e,t,s){"use strict";s("ec7e")},b69b:function(e,t,s){"use strict";s("2c20")},c3b0:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home_container"},[t("el-container",{staticClass:"home_container"},[t("el-header",[t("div",[t("img",{attrs:{src:s("cf05")}}),t("span",[e._v("电商后台管理系统")])]),t("el-button",{attrs:{type:"info"},on:{click:e.outline}},[e._v("login ")])],1),t("el-container",[t("el-aside",{attrs:{width:e.isCollapse?"64px":"200px"}},[t("div",{staticClass:"toggle-button",on:{click:e.toggleCollapse}},[e._v("|||")]),t("el-menu",{attrs:{"text-color":"#fff","background-color":"#333744","collapse-transition":!1,"active-text-color":"#ffd04b",router:"","unique-opened":"",collapse:e.isCollapse,"default-active":e.activePath}},e._l(e.menuList,(function(s){return t("el-submenu",{key:s.id,attrs:{index:s.id+""}},[t("template",{slot:"title"},[t("i",{class:e.iconlist[s.id]}),t("span",[e._v(e._s(s.authName))])]),e._l(s.children,(function(s){return t("el-menu-item",{key:s.id,attrs:{index:"/"+s.path},on:{click:function(t){return e.saveNavState("/"+s.path)}},scopedSlots:e._u([{key:"title",fn:function(){return[t("i",{staticClass:"el-icon-menu"}),t("span",[e._v(e._s(s.authName))])]},proxy:!0}],null,!0)})}))],2)})),1)],1),t("el-main",[t("router-view")],1)],1)],1)],1)},i=[],a=(s("14d9"),{data(){return{menuList:[],iconlist:{125:"el-icon-s-custom",103:"el-icon-orange",101:"el-icon-stopwatch",102:"el-icon-chat-line-round",145:"el-icon-notebook-2"},isCollapse:!1,activePath:""}},methods:{outline(){sessionStorage.removeItem("token"),this.$router.push("/login")},async getMenuList(){const{data:e}=await this.$axios.request({url:"/menus",method:"get",params:{}});if(200!==e.meta.status)return this.$Message.error(e.meta.msg);this.menuList=e.data},toggleCollapse(){this.isCollapse=!this.isCollapse},saveNavState(e){sessionStorage.setItem("activePath",e)}},created(){this.getMenuList(),this.activePath=sessionStorage.getItem("activePath")}}),n=a,r=(s("b69b"),s("2877")),l=Object(r["a"])(n,o,i,!1,null,"779af401",null);t["default"]=l.exports},cf05:function(e,t,s){e.exports=s.p+"img/logo.82b9c7a5.png"},ec7e:function(e,t,s){}}]);
//# sourceMappingURL=login_home_welcome.212ae89f.js.map